category       success failure   error pending
-------------- ------- ------- ------- -------
affix                8       1       0       0
bugreports          72       9       0       0
collapse            20       1       0       0
condition           17       0       0       0
date                99       2       0       0
decorations          7       0       0       0
disambiguate        62       9       0       0
display              4       1       0       0
etal                 3       1       0       0
flipflop            17       0       0       0
form                 3       0       0       0
fullstyles           4       1       0       0
group                6       1       0       0
integration         13       0       0       0
label               18       1       0       0
locale              23       0       0       0
locator              5       0       0       0
magic               37       3       0       0
name               106       0       0       0
nameattr            97       0       0       0
nameorder            6       0       0       0
namespaces           1       0       0       0
number              18       0       0       0
page                 9       0       0       0
plural               7       0       0       0
position            14       1       0       0
punctuation         15       1       0       0
quotes               4       0       0       0
simplespace          1       0       0       0
sort                48       6       2       0
sortseparator        1       0       0       0
substitute           6       1       0       0
testers              2       0       0       0
textcase            27       0       0       0
unicode              1       0       0       0
variables            3       2       0       0
virtual              1       0       0       0
-------------- ------- ------- ------- -------
(all)              785      41       2       0

Failure → citeproc test test-suite affix_WithCommas.txt
Passed in:
(string) '>>[0] John Smith, <i>Book C</i>, 2000, and David Jones, <i>Book D</i>, 2000.
>>[1] Smith, <i>Book C</i> is one source,; Jones, <i>Book D</i> is another.
>>[2] Smith, <i>Book C</i>, 23 is one source,; Jones, <i>Book D</i> is another.'
Expected:
(string) '..[0] John Smith, <i>Book C</i>, 2000, and David Jones, <i>Book D</i>, 2000.
..[1] Smith, <i>Book C</i> is one source, Jones, <i>Book D</i> is another.
>>[2] Smith, <i>Book C</i>, 23 is one source, Jones, <i>Book D</i> is another.'

Failure → citeproc test test-suite bugreports_CitationSortsWithEtAl.txt
Passed in:
(string) '[<i>Aalto et al.,</i> 1999, 2000, 2001]'
Expected:
(string) '[<i>Aalto et al.</i>, 1999, 2000, 2001]'

Failure → citeproc test test-suite bugreports_DemoPageFullCiteCruftOnSubsequent.txt
Passed in:
(string) 'Nolan J. Malone, U.S. Bureau of the Census, <i>Evaluating Components of International Migration: Consistency of 2000 Nativity Data</i> (New York: Routledge, 2001).'
Expected:
(string) 'Malone and U.S. Bureau of the Census, <i>Evaluating Components of International Migration: Consistency of 2000 Nativity Data</i>.'

Failure → citeproc test test-suite bugreports_EnvAndUrb.txt
Passed in:
(string) '..[0] Baines, T S, O Benedettini and J M Kay, ‘Title One’; Baines, T S, F Gump and J M Kay, ‘Title Two’.
..[1] See reference 1.
>>[2] See reference 1.'
Expected:
(string) '>>[0] Baines, T S, O Benedettini and J M Kay, ‘Title One’; Baines, T S, F Gump and J M Kay, ‘Title Two’.
..[1] See reference 1, Baines et al.
>>[2] See reference 1, Baines et al.'

Failure → citeproc test test-suite bugreports_MovePunctuationInsideQuotesForLocator.txt
Passed in:
(string) 'Jennifer J. Davis, “Men of Taste: Gender and Authority in the French Culinary Trades, 1730-1830” (Ph.D. diss., Pennsylvania State University, History, 2004), “gargoyle.”'
Expected:
(string) 'Jennifer J. Davis, “Men of Taste: Gender and Authority in the French Culinary Trades, 1730-1830” (Ph.D. diss., Pennsylvania State University, History, 2004), s.v. “gargoyle.”'

Failure → citeproc test test-suite bugreports_NoCaseEscape.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline">““PIAAC-Longitudinal (PIAAC-L) 2015.””</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline">“PIAAC-Longitudinal (PIAAC-Lx) 2015.”</div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline">“‘PIAAC-Longitudinal (PIAAC-L) 2015.’”</div>
  </div>
  <div class="csl-entry"> 
    <div class="csl-left-margin">N.d.</div><div class="csl-right-inline">“PIAAC-Longitudinal (PIAAC-Lx) 2015.”</div>
  </div>
</div>'

Failure → citeproc test test-suite bugreports_OldMhraDisambiguationFailure.txt
Passed in:
(string) '..[0] John Doe, <i>Book A</i>, 2000; John Doe, <i>Book B</i>, 2000.
>>[1] Doe, Book A; Doe, Book B.'
Expected:
(string) '>>[0] John Doe, <i>Book A</i>, 2000; John Doe, <i>Book B</i>, 2000.
>>[1] Doe, Book A; Doe, Book B.'

Failure → citeproc test test-suite bugreports_ProcessorHang1.txt
Passed in:
(string) '(Philpott, Arendt, et al. 2008)
(Philpott, Perfecto, et al. 2008a)
(Philpott, Perfecto, et al. 2008b)'
Expected:
(string) '(Philpott, Arendt, et al. 2008)
(Philpott, Perfecto, et al. 2008<i>a</i>)
(Philpott, Perfecto, et al. 2008<i>b</i>)'

Failure → citeproc test test-suite bugreports_SingleQuote.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline">“production d ' eau glacée à condensation à eau avec récupération de chaleur . Modélisation simplifiée dans l ’ optique d ’ un calcul des consommations d ’ énergie d ’ une insta.”</div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline">“production d ’ eau glacée à condensation à eau avec récupération de chaleur . Modélisation simplifiée dans l ’ optique d ’ un calcul des consommations d ’ énergie d ’ une insta.”</div>
  </div>
</div>'

Failure → citeproc test test-suite bugreports_SmallCapsEscape.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline"><span style="font-variant:small-caps;">Here</span></div>
    .</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">

    <div class="csl-block">Aalto, Alan</div>

    <div class="csl-left-margin"> N.d.</div><div class="csl-right-inline"><span style="font-variant:small-caps;">Here</span>.</div>
  </div>
</div>'

Failure → citeproc test test-suite collapse_ChicagoAfterCollapse.txt
Passed in:
(string) '(Whittaker 1967, 1975; Wiens 1989a, 1989b)
(Wong 1999, 328, 2000, 475; Garcia 1998, 67)
(Whittaker 1967, Wiens 1989b)'
Expected:
(string) '(Whittaker 1967, 1975; Wiens 1989a, 1989b)
(Wong 1999, 328; 2000, 475; Garcia 1998, 67)
(Whittaker 1967; Wiens 1989b)'

Failure → citeproc test test-suite date_YearSuffixImplicitWithNoDate.txt
Passed in:
(string) '(John Doe n.d. [Accessed: June 1, 1965]; John Doe n.d. [Accessed: June 1, 2065])'
Expected:
(string) '(John Doe n.d.-a [Accessed: June 1, 1965]; John Doe n.d.-b [Accessed: June 1, 2065])'

Failure → citeproc test test-suite date_YearSuffixWithNoDate.txt
Passed in:
(string) '(John Doe n.d. [Accessed: June 1, 1965]; John Doe n.d. [Accessed: June 1, 2065])'
Expected:
(string) '(John Doe n.d.-a [Accessed: June 1, 1965]; John Doe n.d.-b [Accessed: June 1, 2065])'

Failure → citeproc test test-suite disambiguate_BasedOnEtAlSubsequent.txt
Passed in:
(string) '(Baur, Fröberg, Baur, et al. 2000; Baur, Schileyko, Baur, et al. 2000; Doe 2000)'
Expected:
(string) '(Baur, Fröberg, Baur, et al. 2000<i>a</i>; Baur, Schileyko &#38; Baur 2000<i>b</i>; Doe 2000)'

Failure → citeproc test test-suite disambiguate_BasedOnSubsequentFormWithBackref2.txt
Passed in:
(string) '..[0] John Doe, His Book (2000); John Doe, His Other Book (2001).
..[1] Jane Roe, Her Book (1998).
..[2] Roe, supra note 2.
..[3] Doe, supra note 1.
>>[4] Roe, supra note 2.'
Expected:
(string) '..[0] John Doe, His Book (2000); John Doe, His Other Book (2001).
..[1] Jane Roe, Her Book (1998).
..[2] Roe, supra note 2.
..[3] Doe, His Book, supra note 1.
>>[4] Roe, supra note 2.'

Failure → citeproc test test-suite disambiguate_CitationLabelDefault.txt
Passed in:
(string) '[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) 'Asth00a; Asth00b; Bron00'

Failure → citeproc test test-suite disambiguate_CitationLabelInData.txt
Passed in:
(string) 'SpiffLabel1900; SpiffLabel1900'
Expected:
(string) 'SpiffLabel1900a; SpiffLabel1900b; Bron00; BrCh98; DEFG26'

Failure → citeproc test test-suite disambiguate_DisambiguationHang.txt
Passed in:
(string) '..[0] (Caminiti, Johnson, Burnod, Galli, &#38; Ferraina 1990)
..[1] (Caminiti, Johnson, Burnod, Galli, &#38; Ferraina 1990)
>>[2] (Caminiti, Johnson, &#38; Urbano 1990)'
Expected:
(string) '>>[0] (Caminiti, Johnson, Burnod, Galli, &#38; Ferraina 1990a)
>>[1] (Caminiti, Johnson, Burnod, Galli, &#38; Ferraina 1990b)
>>[2] (Caminiti, Johnson, &#38; Urbano 1990)'

Failure → citeproc test test-suite disambiguate_InitializeWithButNoDisambiguation.txt
Passed in:
(string) '(Doe, 1965b, 1965a)'
Expected:
(string) '(Doe, 1965a, 1965b)'

Failure → citeproc test test-suite disambiguate_Trigraph.txt
Passed in:
(string) '[CSL STYLE ERROR: reference with no printed form.]
[CSL STYLE ERROR: reference with no printed form.]
[CSL STYLE ERROR: reference with no printed form.]'
Expected:
(string) 'Aalt02a
Aalt02b
Aalt02c'

Failure → citeproc test test-suite disambiguate_YearCollapseWithInstitution.txt
Passed in:
(string) '(Smith Co 2000a, 2000b, 2000c)
(Smith Co 2000b)
(Smith Co 2000c)'
Expected:
(string) '(Smith Co 2000a; 2000b; 2000c)
(Smith Co 2000b)
(Smith Co 2000c)'

Failure → citeproc test test-suite disambiguate_YearSuffixWithEtAlSubequent.txt
Passed in:
(string) '(Smith 2000a, 2000b, 2000c)
(Smith 2000b)
(Smith 2000c)'
Expected:
(string) '(Smith 2000a; 2000b; 2000c)
(Smith 2000b)
(Smith 2000c)'

Failure → citeproc test test-suite display_SecondFieldAlignMigratePunctuation.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline"> B. D’Arcus, <i>Boundaries of Dissent: Protest and State Power in the Media Age</i>, Routledge, 2005.</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">[2]</div><div class="csl-right-inline"> F.G. Bennett Jr., “Getting Property Right: “Informal” Mortgages in the Japanese Courts,” <i>Pac. Rim L. &#38; Pol’y J.,</i> vol. 18, Aug. 2009, pp. 463–509.</div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[1]</div><div class="csl-right-inline"> B. D’Arcus, <i>Boundaries of Dissent: Protest and State Power in the Media Age</i>, Routledge, 2005.</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">[2]</div><div class="csl-right-inline"> F.G. Bennett Jr., “Getting Property Right: ‘Informal’ Mortgages in the Japanese Courts,” <i>Pac. Rim L. &#38; Pol’y J.</i>, vol. 18, Aug. 2009, pp. 463–509.</div>
  </div>
</div>'

Failure → citeproc test test-suite etal_CitationAndBibliographyDecorationsInCitation.txt
Passed in:
(string) '(Doe <i>et al.,</i> 1965)'
Expected:
(string) '(Doe <i>et al.</i>, 1965)'

Failure → citeproc test test-suite fullstyles_ABdNT.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">COLE, S. J.; MOORE, R. Hydrological modelling using raingauge- and radar-based estimators of areal rainfall. <b>Journal of Hydrology</b>, v. 358, n. 3-4, p. 159–181, 2008. </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">COLE, S. J.; MOORE, R. Hydrological modelling using raingauge- and radar-based estimators of areal rainfall. <b>Journal of Hydrology</b>, v. 358, n. 3–4, p. 159–181, 2008. </div>
</div>'

Failure → citeproc test test-suite group_ComplexNesting.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe Inc.. Retrieved June 1, 1965, from http://example.com/</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Doe Inc. (n.d.). Retrieved June 1, 1965, from http://example.com/</div>
</div>'

Failure → citeproc test test-suite label_EditorTranslator1.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">1.	Иванов И.И. 
    . Пример оформления книги с редактором и переводчиком в одном лице : вид издания : in 5 vols. Vol. 2 / И.И. Иванов, П.П. Петров, С.С. Сидоров; ed. Р.Р. Романов; tran. Р.Р. Романов Дополнительно. – Тюмень: Дом, 2013. – 10. – 100 p..</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">1.	Иванов И.И. Пример оформления книги с редактором и переводчиком в одном лице : вид издания : in 5 vols. Vol. 2 / И.И. Иванов, П.П. Петров, С.С. Сидоров; ed &#38; trans. Р.Р. Романов Дополнительно. – Тюмень: Дом, 2013. – 10. – 100 p.</div>
</div>'

Failure → citeproc test test-suite magic_CitationLabelInBibliography.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry"><div class="csl-right-inline">Roe, J. and Noakes, R.: Book A., 1978a.</div>
  </div>
  <div class="csl-entry"><div class="csl-right-inline">Doe, J.: Book A., 1965b.</div>
  </div>
  <div class="csl-entry"><div class="csl-right-inline">Roe, J. and Noakes, R.: Book A., 1978c.</div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">[Doe65]</div><div class="csl-right-inline">Doe, J.: Book A., 1965.</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">[RoNo78a]</div><div class="csl-right-inline">Roe, J. and Noakes, R.: Book A., 1978.</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">[RoNo78b]</div><div class="csl-right-inline">Roe, J. and Noakes, R.: Book A., 1978.</div>
  </div>
</div>'

Failure → citeproc test test-suite magic_CitationLabelInCitation.txt
Passed in:
(string) '[]'
Expected:
(string) '[Doe65, RoNo78a, RoNo78b]'

Failure → citeproc test test-suite magic_SubsequentAuthorSubstituteNotFooled.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Silverstein, Theodore, tran.. “Sir Gawain and the Green Knight.” Chicago: University of Chicago Press, 1974.</div>
  <div class="csl-entry">Soltes, Ori A., ed.. “Georgia: Art and Civilization through the Ages.” London: Philip Wilson, 1999.</div>
  <div class="csl-entry">“The Chicago Manual of Style.” Chicago: University of Chicago Press, 1993.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Silverstein, Theodore, tran. “Sir Gawain and the Green Knight.” Chicago: University of Chicago Press, 1974.</div>
  <div class="csl-entry">Soltes, Ori A., ed. “Georgia: Art and Civilization through the Ages.” London: Philip Wilson, 1999.</div>
  <div class="csl-entry">“The Chicago Manual of Style.” Chicago: University of Chicago Press, 1993.</div>
</div>'

Failure → citeproc test test-suite position_IbidWithPrefixFullStop.txt
Passed in:
(string) '>>[0] Book A; . He said “Please work.” ibid.'
Expected:
(string) '>>[0] Book A. He said “Please work.” Ibid.'

Failure → citeproc test test-suite punctuation_FrenchOrthography.txt
Passed in:
(string) 'His “ Anonymous ” Life'
Expected:
(string) 'His « Anonymous » Life'

Failure → citeproc test test-suite sort_AuthorDateWithYearSuffix.txt
Passed in:
(string) '>>[0] (Day and Fitzpatrick, 2005a, Mian et al., 2005; Day and Fitzpatrick, 2005b)'
Expected:
(string) '>>[0] (Day and Fitzpatrick, 2005a, 2005b; Mian et al., 2005)'

Failure → citeproc test test-suite sort_ChicagoYearSuffix1.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Beijing Zoo. 1974a. On the diseases of the giant panda and their preventive and curative measures [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 139–47.</div>
  <div class="csl-entry">---. 1974b. Observations on the breeding of the giant panda and the raising of its young [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 154–61.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Beijing Zoo. 1974a. Observations on the breeding of the giant panda and the raising of its young [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 154–61.</div>
  <div class="csl-entry">---. 1974b. On the diseases of the giant panda and their preventive and curative measures [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 139–47.</div>
</div>'

Failure → citeproc test test-suite sort_ChicagoYearSuffix2.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Beijing Zoo. 1974a. On the diseases of the giant panda and their preventive and curative measures [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 139–47.</div>
  <div class="csl-entry">---. 1974b. Observations on the breeding of the giant panda and the raising of its young [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 154–61.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Beijing Zoo. 1974a. Observations on the breeding of the giant panda and the raising of its young [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 154–61.</div>
  <div class="csl-entry">---. 1974b. On the diseases of the giant panda and their preventive and curative measures [in Chinese]. <i>Acta Zoologica Sinica</i> 20: 139–47.</div>
</div>'

Failure → citeproc test test-suite sort_GroupedByAuthorstring.txt
Passed in:
(string) '>>[0] Smith 2003, Jones 2005; Smith 2010'
Expected:
(string) '>>[0] Smith 2003, 2010; Jones 2005'

Failure → citeproc test test-suite sort_SubstituteTitle.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Brooker, C. (2011a, July 24). The news coverage of the Norway mass-killings was fact-free conjecture. <i>The Guardian</i>. London. Retrieved from http://www.guardian.co.uk/commentisfree/2011/jul/24/charlie-brooker-norway-mass-killings</div>
  <div class="csl-entry">Brooker, C. (2011b, July 31). Let’s think outside the box here: maybe blue-sky thinking is nonsense. <i>The Guardian</i>. London. Retrieved from http://www.guardian.co.uk/commentisfree/2011/jul/31/blue-sky-thinking</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Brooker, C. (2011, July 24). The news coverage of the Norway mass-killings was fact-free conjecture. <i>The Guardian</i>. London. Retrieved from http://www.guardian.co.uk/commentisfree/2011/jul/24/charlie-brooker-norway-mass-killings</div>
  <div class="csl-entry">Brooker, C. (2011, July 31). Let’s think outside the box here: maybe blue-sky thinking is nonsense. <i>The Guardian</i>. London. Retrieved from http://www.guardian.co.uk/commentisfree/2011/jul/31/blue-sky-thinking</div>
</div>'

Failure → citeproc test test-suite sort_WithAndInOneEntry.txt
Passed in:
(string) '(Beck 1991; Beck, Katz, and Tucker 1998; Beck, King, and Zeng 2000; Beck and Katz 2001, 2011; Colaresi 2006; Colaresi, Rasler, and Thompson 2007; Colaresi and Thompson 2002; Gochman 1993; Gochman and Leng 1983; Gochman and Maoz 1984)'
Expected:
(string) '(Beck 1991; Beck and Katz 2001, 2011; Beck, Katz, and Tucker 1998; Beck, King, and Zeng 2000; Colaresi 2006; Colaresi, Rasler, and Thompson 2007; Colaresi and Thompson 2002; Gochman 1993; Gochman and Leng 1983; Gochman and Maoz 1984)'

Failure → citeproc test test-suite substitute_SharedMacro.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Alan Alto Inc.: Book Three.</div>
  <div class="csl-entry">Alan Alto Inc.: Book Four.</div>
  <div class="csl-entry">Alto, Alan: Book One.</div>
  <div class="csl-entry">Alto, Alan: Book Two.</div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">Alan Alto Inc.: Book Three.</div>
  <div class="csl-entry">---: Book Four.</div>
  <div class="csl-entry">Alto, Alan: Book One.</div>
  <div class="csl-entry">---: Book Two.</div>
</div>'

Failure → citeproc test test-suite variables_ContainerTitleShort.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">1. </div><div class="csl-right-inline">Campbell DT, Fiske DW. Main title. In: Container: a title. (Series: a title). </div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2. </div><div class="csl-right-inline">Campbell DT, Fiske DW. Main title. Container. </div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">1. </div><div class="csl-right-inline">Campbell DT, Fiske DW. Main title. In: Container: a title. (Series: a title).</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2. </div><div class="csl-right-inline">Campbell DT, Fiske DW. Main title. Container.</div>
  </div>
</div>'

Failure → citeproc test test-suite variables_ContainerTitleShort2.txt
Passed in:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">1. </div><div class="csl-right-inline">Campbell DT, Fiske DW. CONVERGENT AND DISCRIMINANT VALIDATION BY THE MULTITRAIT-MULTIMETHOD MATRIX. In p. 25. </div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2. </div><div class="csl-right-inline">Campbell DT, Fiske DW. CONVERGENT AND DISCRIMINANT VALIDATION BY THE MULTITRAIT-MULTIMETHOD MATRIX. Container. :25. </div>
  </div>
</div>'
Expected:
(string) '<div class="csl-bib-body">
  <div class="csl-entry">
    <div class="csl-left-margin">1. </div><div class="csl-right-inline">Campbell DT, Fiske DW. CONVERGENT AND DISCRIMINANT VALIDATION BY THE MULTITRAIT-MULTIMETHOD MATRIX. In: Container: a title. p. 25. (Series: a title).</div>
  </div>
  <div class="csl-entry">
    <div class="csl-left-margin">2. </div><div class="csl-right-inline">Campbell DT, Fiske DW. CONVERGENT AND DISCRIMINANT VALIDATION BY THE MULTITRAIT-MULTIMETHOD MATRIX. Container. :25.</div>
  </div>
</div>'

Error → citeproc test test-suite sort_AguStyle.txt
./citeproc/citeproc-node-sort.lua:98: attempt to compare number with string

Error → citeproc test test-suite sort_AguStyleReverseGroups.txt
./citeproc/citeproc-node-sort.lua:98: attempt to compare number with string
